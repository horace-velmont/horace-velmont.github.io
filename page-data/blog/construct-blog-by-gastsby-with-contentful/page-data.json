{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/construct-blog-by-gastsby-with-contentful/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Contentful starter"}},"contentfulBlogPost":{"title":"GatsbyJS + Contentful로 정적 블로그 구축하기","publishDate":"March 15th, 2020","heroImage":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='218'%3e%3cpath%20d='M0%20109v109h401V0H0v109m75-42a42%2042%200%201025%2079c32-15%2032-60%200-75-4-3-15-5-18-5l-7%201m-6%2011c-7%204-12%209-16%2016l-3%206%2020%2020c12%2013%2020%2020%2021%2020%204%200%2012-5%2016-9%204-5%207-11%208-17l1-5H95v6h14l-2%204c-2%205-6%2010-11%2013l-4%202-18-17-17-18%202-4c9-15%2029-18%2042-6%203%203%204%203%206%202%203-2%203-2-2-6-9-9-24-12-36-7m221%2030v25h3c3%200%204-1%205-2h3c6%204%2016%201%2020-5%203-7%201-18-5-22-5-3-12-3-15%200l-3%202V82h-8v26M174%2086c-23%205-26%2036-6%2046%2015%207%2032-3%2035-19v-5h-21v8h5c6%200%206%201%203%205-11%2011-28%201-26-15%202-12%2018-17%2026-8%201%202%202%202%205%200%204-3%204-3-1-7-6-5-14-7-20-5m72%2011l-1%205c-2%200-2%201-2%204s0%204%202%204l1%2012v11h8v-23h3c3%200%203%200%203-4s0-4-3-4-3%200-3-5v-5h-8v5m-34%207c-9%205-9%2019-1%2026%204%203%2012%204%2016%202%202-2%202-2%202%200l5%201h4v-30l-4-1-5%201c0%202%200%202-2%200-3-2-12-1-15%201m54%200c-5%206-2%2012%206%2016%205%202%206%204%203%206h-6c-3-2-3-2-5%200l-2%202%202%202c1%202%203%202%208%203%207%200%2010-1%2013-7%202-6%200-10-8-13-4-1-5-2-5-3%200-2%200-2%204-2%204%201%205%201%207-1l1-2c-4-4-14-4-18-1m57-1l6%2013%207%2012-5%2010-5%2010%205%201h4l12-22%2012-24-4-1h-5l-4%209-5%208-2-3-5-9c-2-5-2-5-6-5l-5%201m-104%207c-8%204-6%2014%202%2016%203%200%204%200%207-2%207-7-1-19-9-14m81%201c-7%207%201%2018%2010%2014%203-2%204-4%204-8%200-7-8-10-14-6m-250%203c3%2014%2014%2025%2027%2027h5l-16-15-16-16v4'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.839080459770115,"src":"//images.ctfassets.net/0mzc29zul3qn/4NzwDSDlGECGIiokKomsyI/4518873f2bc67b21004373f358c34e53/website-rebuilt-in-gatsbyjs.png?w=1180&q=50&bg=rgb%3A000000","srcSet":"//images.ctfassets.net/0mzc29zul3qn/4NzwDSDlGECGIiokKomsyI/4518873f2bc67b21004373f358c34e53/website-rebuilt-in-gatsbyjs.png?w=295&h=160&q=50&bg=rgb%3A000000 295w,\n//images.ctfassets.net/0mzc29zul3qn/4NzwDSDlGECGIiokKomsyI/4518873f2bc67b21004373f358c34e53/website-rebuilt-in-gatsbyjs.png?w=590&h=321&q=50&bg=rgb%3A000000 590w,\n//images.ctfassets.net/0mzc29zul3qn/4NzwDSDlGECGIiokKomsyI/4518873f2bc67b21004373f358c34e53/website-rebuilt-in-gatsbyjs.png?w=800&h=435&q=50&bg=rgb%3A000000 800w","sizes":"(max-width: 1180px) 100vw, 1180px"}},"body":{"childMarkdownRemark":{"html":"<h2>개요</h2>\n<p>줄곧 정적 블로그를 만들겠다고 벼르고 있었으나 생각보다 쉽게 개념들을 익히기가 어려웠다. gatsby.js를 사용하기로 마음먹은지도 꽤 오래었고 프로젝트도 파는데 성공했지만 갑자기 contentful이라는 부가 기능에 꽂혀서 이걸 적용하기 위해 다시 삽질을 반복하였다.</p>\n<p>기존 gatsby 프로젝트에 contentful 플러그인을 적용해 보려니 생각보다 쉽지가 않았다. 그래서 일단 contentful을 포함한 gatsby starter을 설치해서 하나하나 익혀보자 하는 마음으로 starter를 설치해보았다. 결과는 성공. 근데 생각보다 맘에 들잖아? </p>\n<p>연습삼아 만든 프로젝트를 그냥 이걸 내 블로그로 쓰기로 했다-_-ㅋㅋ 오랫동안 삽질한 것에 비하면 구축 자체는 비교적 간단하게 되었다. </p>\n<p>좀 허망하긴 하지만 그간 개념을 단련해온 것에 대한 보답이라 생각하고 다른 사람들에게도 간단하게 구축할 수 있는 방법을 공유하려 한다.</p>\n<p>우선 Gatsby.js + Contentful을 사용한 블로그 구축의 장점은 다음과 같다.</p>\n<h2>Gatsby.js와 Contentful의 장단점</h2>\n<ul>\n<li>\n<p>Gatsby.js</p>\n<ul>\n<li>정적 블로그를 제공하는 솔루션 </li>\n<li>서버 비용이 공짜다 (github.io를 활용하면)</li>\n<li>공짜이면서도 리액트 기반으로 커스터마이징이 가능하다.</li>\n<li>각종 강력한 플러그인을 추가로 설치할 수 있다. </li>\n</ul>\n</li>\n<li>\n<p>Contentful</p>\n<ul>\n<li>정적 블로그 컨텐츠를 기존 파일 기반(md파일)으로 직접 생성하는 GUI 기반으로 생성, 관리할 수 있다.</li>\n<li>이미지 삽입 기능을 제공하고 날짜 입력 등 각종 형식 삽입이 편리하다.</li>\n<li>방금 안 사실인데 5000 포스트까지만 무료라고 한다 (<del>5000개 쓰기전에 갈아타야지</del>)</li>\n</ul>\n</li>\n</ul>\n<h2>설치</h2>\n<ul>\n<li>참고주소 : <a href=\"https://github.com/contentful-userland/gatsby-contentful-starter\">https://github.com/contentful-userland/gatsby-contentful-starter</a></li>\n</ul>\n<p>터미널에 들어간다.</p>\n<pre><code>// gatsby를 글로벌 설치한다.\nnpm install -g gatsby\n// gatsby starter를 이용하여 프로젝트를 생성한다. 프로젝트명 형식을 반드시 지켜주자.\ngatsby new 깃허브아이디.github.io https://github.com/contentful-userland/gatsby-contentful-starter\n</code></pre>\n<p>잠시 터미널을 떠나 contentful.com 으로 접속후 회원가입한 뒤 새 공간을 생성한다. </p>\n<p>Settings > API_KEYS로 들어가서 접속 토큰 및 관리 토큰을 생성해 준다. 다시 터미널로 돌아가자!</p>\n<pre><code>cd 프로젝트_이름\n// 아래 명령어를 입력한후 발급한 관리 토큰 및 space id, 접속 토큰을 입력한다\nyarn run setup\n// 잘 뜨는지 테스트해보자\nyarn run dev\n</code></pre>\n<p>localhost:8000으로 접속했을 때 아래처럼 잘 뜬다면 성공한 것이다! </p>\n<p>이제 당신의 정적 블로그가 만들어졌다. (첫번째 게시글은 필자가 내용을 수정한 것임)\n<img src=\"//images.ctfassets.net/0mzc29zul3qn/NrYz8kVu2Um6AfXnXoxqV/11fde99439d255d40e3c52ded36b1fb0/image.png\" alt=\"gatsby-localhost-1\"></p>\n<p>필자의 첫번째 게시글 처럼 내용을 수정해 보고 싶다면 contentful.com으로 돌아가서 Content 탭을 누른뒤 원하는 내용을 수정해보자.</p>\n<p>다시 yarn run dev를 실행해서 위의 필자의 스크린샷 처럼 변경사항이 잘 반영되는지 테스트.</p>\n<pre><code>yarn run dev\n</code></pre>\n<p>간단하게 로컬상에서 정적 블로그를 생성할 수 있게 되었다. 이제 github에 배포해보자.</p>\n<h2>Github에 배포하기</h2>\n<p>깃허브에서 새 Repository를 생성한다. </p>\n<p>본인 Organization에서 깃허브아이디.github.io 형식(필수)으로 저장소 이름을 입력해준다. </p>\n<p>위 형식으로만 정적 사이트를 깃허브에서 호스팅해주는 것 같다. </p>\n<p>저 방식 말고도 \"깃허브아이디.github.io/서브네임\" 형식으로도 구축이 가능하긴 하다고 한다.</p>\n<p><img src=\"//images.ctfassets.net/0mzc29zul3qn/1VdfkKJ109HJ2BTenGnYK1/38cf270ad581c0145d42083d92b3c058/image.png\" alt=\"github deploy 1\"></p>\n<p>이제 배포를 해보자. 터미널로 이동한다</p>\n<pre><code>cd 프로젝트_이름\n\n// git 저장소로 등록\ngit init\n\n// 원격 저장소와 연결\ngit remote add origin 깃허브아이디.github.io\n\n// package.json > scripts > deploy 스크립트에 -b master 추가\n\"deploy\": \"gatsby build --prefix-paths &#x26;&#x26; gh-pages -d public -b master\",\n\n// 현재까지의 변경사항을 develop 브랜치로 푸시한다 (master가 아님)\n</code></pre>\n<p>develop에 푸시하는 이유는 우리의 블로그 빌드 파일이 master 브랜치로 push될 예정이기 때문이다. </p>\n<p>터미널로 복귀하자.</p>\n<pre><code>// 아래 명령어 실행 후 깃허브 정보 입력\nyarn run deploy\n</code></pre>\n<p>이렇게 원격 서버에 배포하는 방법까지 알아보았다. </p>\n<p>\"깃허브아이디.github.io\"로 접속해서 잘 배포된 여러분의 블로그를 확인하자! 끝!</p>"}}}},"pageContext":{"slug":"construct-blog-by-gastsby-with-contentful"}}}